(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],{116:function(e,a,t){},117:function(e,a,t){},118:function(e,a,t){},152:function(e,a,t){e.exports=t(291)},157:function(e,a,t){},158:function(e,a,t){},163:function(e,a,t){},164:function(e,a,t){},165:function(e,a,t){},281:function(e,a,t){},282:function(e,a,t){},283:function(e,a,t){},284:function(e,a,t){},285:function(e,a,t){},286:function(e,a,t){},287:function(e,a,t){},288:function(e,a,t){},289:function(e,a,t){},290:function(e,a,t){},291:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(58),s=t.n(o),i=t(25),c=t(26),l=t(29),m=t(27),u=t(30),f=(t(157),t(32)),p=(t(158),t(7)),d=t(11),_=Object(p.b)((function(e){return{isAuth:e.authReducer.isAuth}}),{})((function(e){return r.a.createElement("div",null,e.isAuth?r.a.createElement("nav",{className:"navigation"},r.a.createElement(d.b,{className:"navigation__link",activeClassName:"active-link",to:"/profile"},"Profile"),r.a.createElement(d.b,{className:"navigation__link",activeClassName:"active-link",to:"/dialogs"},"Message"),r.a.createElement(d.b,{className:"navigation__link",activeClassName:"active-link",to:"/find-users"},"Find Users")):"")})),b=(t(163),t(164),Object(p.b)((function(e){return{dialogs:e.dialogsReducer.DialogsData}}),null)((function(e){return e.dialogs.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(d.b,{to:"/dialogs/"+e.id,activeClassName:"dialogs__item--active",className:"dialogs__item-wrapper"},r.a.createElement("div",{className:"dialogs__item"},e.name),r.a.createElement("div",{className:"dialogs__item-last-message"},"Hello")))}))}))),E=(t(87),t(42)),h=t(10),g={DialogsData:[{name:"Alex",id:1},{name:"Masha",id:2},{name:"Pasha",id:3},{name:"Sasha",id:4}],MessagesData:[{message:"Hi",id:1},{message:"How are you today?",id:2},{message:"Happy new Year",id:3},{message:"Happy Birthday ",id:4}]},v=(t(165),t(119)),N=t(120),O=Object(N.a)({form:"dialogAddMessageForm"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:"add-message__wrapper"},r.a.createElement(v.a,{name:"messageBody",component:"textarea",className:"dialog__input",placeholder:"Enter message"}),r.a.createElement("button",{className:"btn btn__new-message"},"Send"))})),k=function(e){return r.a.createElement("div",{className:"dialog__wrapper"},r.a.createElement("div",{className:"dialog__background"},e.MessagesData.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("p",{className:"dialog__user-name"},"Alex"),r.a.createElement("p",{key:e.message,className:"dialog__message"},e.message))}))),r.a.createElement(O,Object.assign({onSubmit:function(a){e.onSendMessageCLick(a.messageBody)}},e)))},w=Object(p.b)((function(e){return{MessagesData:e.dialogsReducer.MessagesData}}),{onSendMessageCLick:function(e){return{type:"SEND_MESSAGE",messageBody:e}}})(k),j=function(e){return{isAuth:e.authReducer.isAuth}},S=function(e){var a=function(a){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,a),Object(c.a)(t,[{key:"render",value:function(){return this.props.isAuth?r.a.createElement(e,this.props):r.a.createElement(f.a,{to:"/login"})}}]),t}(r.a.Component);return Object(p.b)(j)(a)},y=t(9),T=t.n(y),A=t(13),F=t(125),U="https://social-network.samuraijs.com/api/1.0/",P=F.create({withCredentials:!0,headers:{"API-KEY":"e7f5a643-78d7-4edd-b331-1591701b245f"}}),C=function(e,a){return P.get("".concat(U,"users?page=").concat(e,"&count=").concat(a)).then((function(e){return e.data}))},x=function(e){return P.post("".concat(U,"follow/").concat(e))},I=function(e){return P.delete("".concat(U,"follow/").concat(e))},R=function(e){return P.get("".concat(U,"profile/").concat(e))},D=function(e){return P.get("".concat(U,"profile/status/").concat(e))},M=function(e){return P.put("".concat(U,"profile/status"),{status:e})},L=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return P.post("".concat(U,"auth/login"),{email:e,password:a,rememberMe:t})},z=function(e){var a=new FormData;return a.append("image",e),P.put("".concat(U,"profile/photo"),a,{headers:{"Content-type":"multipart/form-data"}})},q={ProfileData:[{post:"Hi"},{post:"How Are U?"},{post:"Where are you from?"},{post:"Happy!"}],profile:null,status:null,userAvatar:""},G=function(e){return{type:"SET_USER_STATUS",status:e}},H=function(e){return{type:"SAVE_PHOTO",file:e}},B=function(e){return function(){var a=Object(A.a)(T.a.mark((function a(t){var n;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R(e);case 2:n=a.sent,t({type:"SET_USER_PROFILE",profile:n.data});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},J=function(e){return function(){var a=Object(A.a)(T.a.mark((function a(t){var n;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R(e);case 2:n=a.sent,t({type:"GET_USER_AVATAR",avatar:n.data.photos.large});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},W=t(6),V=Object(W.d)(S,Object(p.b)((function(e){return{authorizedUserId:e.authReducer.userId}}),{getUserAvatarThunk:J}))((function(e){return Object(n.useEffect)((function(){e.getUserAvatarThunk(e.authorizedUserId)}),[]),r.a.createElement("div",{className:"dialogs"},r.a.createElement("div",null,r.a.createElement(b,null)),r.a.createElement("div",null,r.a.createElement(w,null)))})),Y={UsersData:[],pageSize:6,totalCount:0,portionSize:10,currentPage:1,isFatching:!1,isFollowingProcess:[]},Z=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},K=function(e){return{type:"TOGGLE_IS_FETCHING",isFatching:e}},Q=function(e,a){return{type:"TOGGLE_IS_FETCHING",isFollowing:e,userId:a}},X=(t(281),t(19)),$=(t(282),function(e){for(var a=[],t=Math.ceil(e.totalCount/e.pageSize),o=1;o<=t;o++)a.push(o);var s=Math.ceil(t/e.portionSize),i=Object(n.useState)(1),c=Object(X.a)(i,2),l=c[0],m=c[1],u=(l-1)*e.portionSize+1,f=l*e.portionSize;return r.a.createElement("div",{className:"pagination__list"},l>1?r.a.createElement("button",{onClick:function(){return m(l-1)},className:"pagination__list-swipe-btn-prev"},"prev"):r.a.createElement("button",{className:"pagination__list-swipe-btn-prev--disable"},"prev"),r.a.createElement("div",{className:"pagination__list-wrapper"},a.filter((function(e){return e>=u&&e<=f})).map((function(a){return r.a.createElement("button",{key:a,onClick:function(){e.onChangePage(a)},className:a===e.currentPage?"pagination__item-active":"pagination__item"},a)}))),s>l?r.a.createElement("button",{onClick:function(){return m(l+1)},className:"pagination__list-swipe-btn-next"},"next"):r.a.createElement("button",{className:"pagination__list-swipe-btn-next--disable"},"next"))}),ee=(t(283),function(){return r.a.createElement("section",{className:"animation"},r.a.createElement("div",{className:"cssload-loader"},r.a.createElement("div",{className:"cssload-top"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"}))))))),r.a.createElement("div",{className:"cssload-bottom"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"}))))))),r.a.createElement("div",{className:"cssload-left"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"}))))))),r.a.createElement("div",{className:"cssload-right"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"},r.a.createElement("div",{className:"cssload-square"})))))))))}),ae=function(e){return e.isFatching?r.a.createElement(ee,null):r.a.createElement("div",{className:"users-list"},e.UsersData.map((function(a){return r.a.createElement("div",{key:a.id,className:"user"},r.a.createElement(d.b,{to:"/profile/"+a.id},r.a.createElement("img",{className:"user__avatar",src:a.photos.large?a.photos.large:"https://m2bob-forum.net/wcf/images/avatars/3e/2720-3e546be0b0701e0cb670fa2f4fcb053d4f7e1ba5.jpg",alt:""})),r.a.createElement("div",{className:"user__description"},r.a.createElement("h3",{className:"user__description-item"},a.name),a.status&&r.a.createElement("p",{className:"user__description-item-status"},a.status)),a.followed?r.a.createElement("button",{onClick:function(){return e.unfollow(a.id)},className:e.isFollowingProcess.some((function(e){return e===a.id}))?"btn user__unfollow-btn-disable":"btn user__unfollow-btn"},e.isFollowingProcess.some((function(e){return e===a.id}))?"Unfollowing":"Unfollow"):r.a.createElement("button",{onClick:function(){return e.follow(a.id)},className:e.isFollowingProcess.some((function(e){return e===a.id}))?"btn user__follow-btn-disable":"btn user__follow-btn"},e.isFollowingProcess.some((function(e){return e===a.id}))?"Following":"Follow"))})),r.a.createElement($,e))},te=function(e){return e.findUsersReducer.UsersData},ne=function(e){return e.findUsersReducer.pageSize},re=function(e){return e.findUsersReducer.totalCount},oe=function(e){return e.findUsersReducer.currentPage},se=function(e){return e.findUsersReducer.isFatching},ie=function(e){return e.findUsersReducer.isFollowingProcess},ce=function(e){return e.findUsersReducer.portionSize},le=function(e){return e.authReducer.userId},me=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(l.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).onChangePage=function(e){t.props.getUsersThunkCreator(e,t.props.pageSize)},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize),this.props.getUserAvatarThunk(this.props.authorizedUserId)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae,Object.assign({onChangePage:this.onChangePage},this.props)))}}]),a}(r.a.Component),ue=Object(W.d)(S,Object(p.b)((function(e){return{UsersData:te(e),pageSize:ne(e),totalCount:re(e),portionSize:ce(e),currentPage:oe(e),isFatching:se(e),isFollowingProcess:ie(e),authorizedUserId:le(e)}}),{setCurrentPage:Z,getUsersThunkCreator:function(e,a){return function(){var t=Object(A.a)(T.a.mark((function t(n){var r;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(K(!0)),n(Z(e)),t.next=4,C(e,a);case 4:r=t.sent,n({type:"SET_USERS",users:r.items}),n({type:"SET_ITEMS_AMOUNT",totalCount:r.totalCount}),n(K(!1));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},follow:function(e){return function(){var a=Object(A.a)(T.a.mark((function a(t){return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(Q(!0,e)),a.next=3,x(e);case 3:0===a.sent.data.resultCode&&t({type:"FOLLOW",userId:e}),t(Q(!1,e));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},unfollow:function(e){return function(){var a=Object(A.a)(T.a.mark((function a(t){return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t(Q(!0,e)),a.next=3,I(e);case 3:0===a.sent.data.resultCode&&t({type:"UNFOLLOW",userId:e}),t(Q(!1,e));case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},getUserAvatarThunk:J}))(me),fe=(t(116),t(284),t(285),function(e){Object(n.useEffect)((function(){m(e.status)}),[e.status]);var a=Object(n.useState)(!1),t=Object(X.a)(a,2),o=t[0],s=t[1],i=Object(n.useState)(e.status),c=Object(X.a)(i,2),l=c[0],m=c[1];return r.a.createElement("div",{className:"personal-information__item personal-information__item-status"},o?e.isOwner?r.a.createElement("input",{onChange:function(e){m(e.currentTarget.value)},autoFocus:!0,value:l,onBlur:function(){s(!1),e.updateStatusThunk(l)},className:"status__input",type:"text"}):"":e.isOwner?r.a.createElement("div",{className:"status__text",onDoubleClick:function(){s(!0)}},l||"Double click to change status..."):r.a.createElement("div",{className:"status__text"},l||"My status could be here..."))}),pe=t(84),de=(t(286),function(e){var a=e.input,t=(e.meta,Object(pe.a)(e,["input","meta"]));return r.a.createElement("div",null,r.a.createElement("textarea",Object.assign({},a,t)))}),_e=function(e){var a=e.input,t=e.meta,n=Object(pe.a)(e,["input","meta"]),o=t.touched&&t.error;return o?r.a.createElement("div",{className:"controlled-input__error"},r.a.createElement("input",Object.assign({},a,n)),o&&r.a.createElement("div",{className:"controlled-error"},t.error)):r.a.createElement("div",{className:"controlled-input"},r.a.createElement("input",Object.assign({},a,n)))},be=Object(N.a)({form:"edit-profile"})((function(e){var a=e.handleSubmit,t=Object(n.useState)(!0),o=Object(X.a)(t,2),s=o[0],i=o[1];return r.a.createElement("form",{onSubmit:a,className:"personal-information__form"},r.a.createElement("div",{className:"personal-information__background"}),r.a.createElement("div",{className:"personal-information__form-wrapper"},r.a.createElement("div",{className:"personal-information__form-field"},r.a.createElement("label",{htmlFor:"form-name",className:"personal-information__form-label"},"Name and surname"),r.a.createElement(v.a,{id:"form-name",className:"personal-information__input",placeholder:"Name",name:"fullName",component:_e})),r.a.createElement("div",{className:"personal-information__form-field"},r.a.createElement("label",{htmlFor:"form-skills",className:"personal-information__form-label"},"Skills"),r.a.createElement(v.a,{maxlength:"100",id:"form-skills",className:"personal-information__input",placeholder:"looking For A Job Description",name:"lookingForAJobDescription",component:_e})),r.a.createElement("div",{className:"personal-information__form-field"},r.a.createElement(v.a,{id:"form-lookingForAJob",className:"personal-information__checbox",type:"checkbox",name:"lookingForAJob",component:_e}),r.a.createElement("label",{onClick:function(){i(!s)},htmlFor:"form-lookingForAJob",className:s?"personal-information__form-label--not-checked":"personal-information__form-label--checked"},"I am looking for a job")),r.a.createElement("div",{className:"personal-information__form-field"},r.a.createElement("label",{htmlFor:"form-aboutMe",className:"personal-information__form-label"},"About me"),r.a.createElement(v.a,{maxlength:"150",id:"form-aboutMe",className:"personal-information__text-area",placeholder:"Write about yourself",name:"aboutMe",component:de})),r.a.createElement("div",{className:"personal-information__form-field"},r.a.createElement("label",{htmlFor:"form-facebook",className:"personal-information__form-label"},"Facebook"),r.a.createElement(v.a,{id:"form-facebook",className:"personal-information__input",placeholder:"Name",name:"contacts.facebook",component:_e})),r.a.createElement("div",{className:"personal-information__form-field"},r.a.createElement("label",{htmlFor:"form-website",className:"personal-information__form-label"},"Website"),r.a.createElement(v.a,{id:"form-website",className:"personal-information__input",placeholder:"Name",name:"contacts.website",component:_e})),r.a.createElement("div",{className:"personal-information__form-field"},r.a.createElement("label",{htmlFor:"form-twitter",className:"personal-information__form-label"},"Twitter"),r.a.createElement(v.a,{id:"form-twitter",className:"personal-information__input",placeholder:"Name",name:"contacts.twitter",component:_e})),r.a.createElement("div",{className:"personal-information__form-field"},r.a.createElement("label",{htmlFor:"form-instagram",className:"personal-information__form-label"},"Instagram"),r.a.createElement(v.a,{id:"form-instagram",className:"personal-information__input",placeholder:"Name",name:"contacts.instagram",component:_e})),r.a.createElement("div",{className:"personal-information__form-field"},r.a.createElement("label",{htmlFor:"form-youTube",className:"personal-information__form-label"},"YouTube"),r.a.createElement(v.a,{id:"form-youTube",className:"personal-information__input",placeholder:"Name",name:"contacts.youtube",component:_e})),r.a.createElement("div",{className:"personal-information__form-field"},r.a.createElement("label",{htmlFor:"form-gitHub",className:"personal-information__form-label"},"GitHub"),r.a.createElement(v.a,{id:"form-gitHub",className:"personal-information__input",placeholder:"Name",name:"contacts.github",component:_e})),r.a.createElement("div",{className:"personal-information__form-field"},r.a.createElement("label",{htmlFor:"form-mainLink",className:"personal-information__form-label"},"Main Link"),r.a.createElement(v.a,{id:"form-mainLink",className:"personal-information__input",placeholder:"Name",name:"contacts.mainLink",component:_e})),r.a.createElement("button",{className:"btn personal-information__save-btn"},"Save")))})),Ee=(t(117),t(287),function(e){return r.a.createElement("div",null,r.a.createElement("p",{className:"posts__sign"},"Posts"),r.a.createElement("div",{className:"posts-list"},e.data.map((function(e){return r.a.createElement("div",{key:e.post},r.a.createElement("div",{className:"post-item"},e.post))}))))}),he=(t(288),Object(N.a)({form:"AddNewPost"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:"new-post"},r.a.createElement(v.a,{name:"newPostBody",component:de,className:"new-post__text-area",placeholder:"Write post",type:"text",maxlength:"200"}),r.a.createElement("button",{className:"btn btn__new-post"},"New Post"))}))),ge=r.a.memo((function(e){return r.a.createElement("div",{className:"main__posts"},r.a.createElement(he,{onSubmit:function(a){e.addPost(a.newPostBody)}}),r.a.createElement("div",{className:"posts-list"},r.a.createElement(Ee,{data:e.PostData})))})),ve=Object(p.b)((function(e){return{PostData:e.profileReducer.ProfileData}}),{addPost:function(e){return{type:"ADD_POST",messageBody:e}}})(ge),Ne=function(e){var a=e.profile;return r.a.createElement("div",{className:"personal-information__items-list-contacts"},r.a.createElement("p",{className:"personal-information__items-list-contacts-sign"},"Links"),r.a.createElement("div",{className:"personal-information__item-present"},r.a.createElement("p",{className:"personal-information__bold-text"},"Facebook")," - ",a.contacts.facebook?a.contacts.facebook:"absent"),r.a.createElement("div",{className:"personal-information__item-present"},r.a.createElement("p",{className:"personal-information__bold-text"},"Website")," - ",a.contacts.website?a.contacts.website:"absent"),r.a.createElement("div",{className:"personal-information__item-present"},r.a.createElement("p",{className:"personal-information__bold-text"},"Twitter")," - ",a.contacts.twitter?a.contacts.twitter:"absent"),r.a.createElement("div",{className:"personal-information__item-present"},r.a.createElement("p",{className:"personal-information__bold-text"},"Instagram")," - ",a.contacts.instagram?a.contacts.instagram:"absent"),r.a.createElement("div",{className:"personal-information__item-present"},r.a.createElement("p",{className:"personal-information__bold-text"},"YouTube")," - ",a.contacts.youtube?a.contacts.youtube:"absent"),r.a.createElement("div",{className:"personal-information__item-present"},r.a.createElement("p",{className:"personal-information__bold-text"},"GitHub")," - ",a.contacts.github?a.contacts.github:"absent"),r.a.createElement("div",{className:"personal-information__item-present"},r.a.createElement("p",{className:"personal-information__bold-text"},"Main Link")," - ",a.contacts.mainLink?a.contacts.mainLink:"absent"))},Oe=function(e){var a=Object(n.useState)(!1),t=Object(X.a)(a,2),o=t[0],s=t[1];return r.a.createElement("div",null,o?r.a.createElement(be,{initialValues:e.profile,onSubmit:function(a){e.saveProfileInfoThunk(a,e.profile.userId),s(!1)},profile:e.profile}):null,r.a.createElement("div",{className:"main__profile-img"},r.a.createElement("img",{className:"main__img",src:"https://images.pexels.com/photos/1726964/pexels-photo-1726964.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940",alt:""})),r.a.createElement("div",{className:"description"},r.a.createElement("div",{className:"description__wrapper"},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{className:"avatar__img",src:e.profile.photos.large?e.profile.photos.large:"https://m2bob-forum.net/wcf/images/avatars/3e/2720-3e546be0b0701e0cb670fa2f4fcb053d4f7e1ba5.jpg",alt:""}),e.isOwner&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:"load-photo-btn",className:"personal-information__load-photo-btn",onChange:function(a){a.target.files.length&&e.savePhotoThunk(a.target.files[0])},type:"file"}),r.a.createElement("label",{className:"personal-information__load-photo-lable",htmlFor:"load-photo-btn"},"Upload new photo"))),r.a.createElement("div",{className:"personal-information"},r.a.createElement("div",{className:"personal-information__items-presents"},r.a.createElement("p",{className:"personal-information__item personal-information__name"},e.profile.fullName),e.isOwner&&r.a.createElement("button",{onClick:function(){return s(!0)},className:"btn personal-information__edit-btn"},"Edit information")),r.a.createElement(fe,e),r.a.createElement("div",{className:"personal-information__job-wrapper"},r.a.createElement("p",{className:e.profile.lookingForAJob?"personal-information__loking-for-job":"personal-information__item-not-loking-for-job"},e.profile.lookingForAJob?"Looking for a job":"Not looking for a job"),r.a.createElement("p",{className:"personal-information__item-skills"},r.a.createElement("p",{className:"personal-information__item-skills-sign"},"Skills:")," ",e.profile.lookingForAJobDescription||"absent")))),r.a.createElement("div",{className:"personal-information__links-posts-wrapper"},r.a.createElement("div",null,r.a.createElement("div",{className:"personal-information__about-me"},r.a.createElement("p",{className:"personal-information__about-me-sign"},"About me"),e.profile.aboutMe||"Information about myself..."),r.a.createElement(Ne,e)),r.a.createElement(ve,null))))},ke=function(e){return e.profile?r.a.createElement("div",{className:"profile"},r.a.createElement(Oe,e)):r.a.createElement(ee,null)},we=function(e){function a(){return Object(i.a)(this,a),Object(l.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"refreshProfile",value:function(){this.props.getUserAvatarThunk(this.props.authorizedUserId);var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),this.props.getProfileThunk(e),this.props.getStatusThunk(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ke,Object.assign({isOwner:!this.props.match.params.userId},this.props)))}}]),a}(r.a.Component),je=Object(W.d)(S,f.f,Object(p.b)((function(e){return{profile:e.profileReducer.profile,status:e.profileReducer.status,authorizedUserId:e.authReducer.userId,isAuth:e.authReducer.isAuth}}),{getProfileThunk:B,getStatusThunk:function(e){return function(){var a=Object(A.a)(T.a.mark((function a(t){var n;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D(e);case 2:n=a.sent,t(G(n.data));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},updateStatusThunk:function(e){return function(){var a=Object(A.a)(T.a.mark((function a(t){return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,M(e);case 2:0===a.sent.data.resultCode&&t(G(e));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},savePhotoThunk:function(e){return function(){var a=Object(A.a)(T.a.mark((function a(t){var n;return T.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,z(e);case 2:0===(n=a.sent).data.resultCode&&t(H(n.data.data.photos));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},saveProfileInfoThunk:function(e,a){return function(){var t=Object(A.a)(T.a.mark((function t(n){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r=e,P.put("".concat(U,"profile"),r);case 2:0===t.sent.data.resultCode&&n(B(a));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},getUserAvatarThunk:J}))(we),Se=(t(118),function(e){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__wrapper"}),r.a.createElement(d.b,{className:"header__sign",to:"/profile"},"Social Network"),r.a.createElement("div",{className:"header__user-auth"},e.isAuth?r.a.createElement("img",{className:"header__avatar",src:e.userAvatar,alt:""}):"",r.a.createElement("div",{className:"header__sign-btn"},e.isAuth?r.a.createElement(d.b,{onClick:e.logoutThunk,className:"header__sign-link",to:"/login"},"Logout"):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{className:"header__sign-link",to:"/login"},"Login"),r.a.createElement("a",{className:"header__sign-link header__sign-link-sign-up",href:"https://social-network.samuraijs.com/login"},"Sign up")))))}),ye=t(35),Te={userId:null,email:null,login:null,isAuth:!1},Ae=function(e,a,t,n){return{type:"SET_AUTH_USER_DATA",payload:{userId:e,email:a,login:t,isAuth:n}}},Fe=function(){return function(){var e=Object(A.a)(T.a.mark((function e(a){var t,n,r,o,s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("".concat(U,"auth/me")).then((function(e){return e.data}));case 2:t=e.sent,n=t.data,r=n.id,o=n.email,s=n.login,0===t.resultCode&&a(Ae(r,o,s,!0));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},Ue=function(){return function(){var e=Object(A.a)(T.a.mark((function e(a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.delete("".concat(U,"auth/login"));case 2:0===e.sent.data.resultCode&&a(Ae(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},Pe=Object(p.b)((function(e){return{userAvatar:e.profileReducer.userAvatar,isAuth:e.authReducer.isAuth,login:e.authReducer.login}}),{logoutThunk:Ue})((function(e){return r.a.createElement(Se,e)})),Ce=(t(289),t(290),function(e){if(!e)return"Field is required"}),xe=Object(N.a)({form:"login"})((function(e){var a=Object(n.useState)(!0),t=Object(X.a)(a,2),o=t[0],s=t[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"login-form__background"}),r.a.createElement("form",{onSubmit:e.handleSubmit,className:"login-form"},r.a.createElement("div",{className:"login-form__wrapper"},r.a.createElement("h2",{className:"login-form__sign"},"Login to your account"),r.a.createElement("div",{className:"login-form__item"},r.a.createElement(v.a,{validate:[Ce],component:_e,name:"email",className:e.error&&"Enter valid Email"===e.error?"login-form__item-input-error":"login-form__item-input",placeholder:"Email"}),e.error&&"Enter valid Email"===e.error?r.a.createElement("div",{className:"login-form__item-error-email"},e.error):null),r.a.createElement("div",{className:"login-form__item"},r.a.createElement(v.a,{validate:[Ce],component:_e,type:"password",name:"password",className:"login-form__item-input",placeholder:"Password"})),r.a.createElement("div",{className:"login-form__item login-form__checkbox-wrapper"},r.a.createElement(v.a,{component:_e,name:"rememberMe",id:"rememberMe",className:"login-form__item-checkbox",type:"checkbox"}),r.a.createElement("label",{onClick:function(){s(!o)},className:o?"login-form__item-label":"login-form__item-label--checked",htmlFor:"rememberMe"}," Remember me")),e.error&&"Enter valid Email"!==e.error?r.a.createElement("div",{className:"login-form__item-error"},e.error):null,r.a.createElement("div",{className:"login-form__item"},r.a.createElement("button",{className:"btn login-form__item-btn"},"Login")),r.a.createElement("p",null,"or"),r.a.createElement("div",{className:"login-form__item"},r.a.createElement("a",{href:"https://social-network.samuraijs.com/login",className:"btn login-form__item-btn login-form__item-btn-sign-up"},"Sign up")))))})),Ie=Object(p.b)((function(e){return{isAuth:e.authReducer.isAuth}}),{loginThunk:function(e,a,t){return function(){var n=Object(A.a)(T.a.mark((function n(r){var o,s;return T.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L(e,a,t);case 2:0===(o=n.sent).data.resultCode?r(Fe()):(s=o.data.messages.length>0?o.data.messages[0]:"Some Error",r(Object(ye.a)("login",{_error:s})));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},logoutThunk:Ue})((function(e){return e.isAuth?r.a.createElement(f.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement(xe,{onSubmit:function(a){e.loginThunk(a.email,a.password,a.rememberMe)}}))})),Re={initialized:!1},De=function(e){function a(){return Object(i.a)(this,a),Object(l.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(Pe,null),r.a.createElement(_,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(f.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(je,null)}}),r.a.createElement(f.b,{path:"/dialogs",render:function(){return r.a.createElement(V,null)}}),r.a.createElement(f.b,{path:"/find-users",render:function(){return r.a.createElement(ue,null)}}),r.a.createElement(f.b,{path:"/login",render:function(){return r.a.createElement(Ie,null)}}))):r.a.createElement(ee,null)}}]),a}(r.a.Component),Me=Object(W.d)(f.f,Object(p.b)((function(e){return{initialized:e.appReducer.initialized}}),{initializeApp:function(){return function(e){var a=e(Fe());Promise.all([a]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(De),Le=t(126),ze=t(121),qe=Object(W.c)({profileReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_POST":return Object(h.a)({},e,{ProfileData:[].concat(Object(E.a)(e.ProfileData),[{post:a.messageBody}])});case"SET_USER_PROFILE":return Object(h.a)({},e,{profile:a.profile});case"SET_USER_STATUS":return Object(h.a)({},e,{status:a.status});case"SAVE_PHOTO":return Object(h.a)({},e,{profile:Object(h.a)({},e.profile,{photos:a.file})});case"GET_USER_AVATAR":return Object(h.a)({},e,{userAvatar:a.avatar});case"SAVE_PROFILE":return Object(h.a)({},e,{profile:Object(h.a)({},e.profile,{data:a.file})});default:return e}},dialogsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SEND_MESSAGE":return Object(h.a)({},e,{MessagesData:[].concat(Object(E.a)(e.MessagesData),[{message:a.messageBody,id:6}])});default:return e}},findUsersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FOLLOW":return Object(h.a)({},e,{UsersData:e.UsersData.map((function(e){return e.id===a.userId?Object(h.a)({},e,{followed:!0}):e}))});case"UNFOLLOW":return Object(h.a)({},e,{UsersData:e.UsersData.map((function(e){return e.id===a.userId?Object(h.a)({},e,{followed:!1}):e}))});case"SET_USERS":return Object(h.a)({},e,{UsersData:a.users});case"SET_CURRENT_PAGE":return Object(h.a)({},e,{currentPage:a.currentPage});case"SET_ITEMS_AMOUNT":return Object(h.a)({},e,{totalCount:a.totalCount});case"TOGGLE_IS_FETCHING":return Object(h.a)({},e,{isFatching:a.isFatching});case"TOGGLE_IS_FETCHING":return Object(h.a)({},e,{isFollowingProcess:a.isFollowing?[].concat(Object(E.a)(e.isFollowingProcess),[a.userId]):e.isFollowingProcess.filter((function(e){return e!==a.userId}))});default:return e}},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_AUTH_USER_DATA":return Object(h.a)({},e,{},a.payload);default:return e}},form:ze.a,appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"INITIALIZED_SUCCESS":return Object(h.a)({},e,{initialized:!0});default:return e}}}),Ge=Object(W.e)(qe,Object(W.a)(Le.a));s.a.render(r.a.createElement(d.a,{basename:"/socialnetwork"},r.a.createElement(p.a,{store:Ge},r.a.createElement(Me,null))),document.getElementById("root"))},87:function(e,a,t){}},[[152,1,2]]]);
//# sourceMappingURL=main.5a2a4e4e.chunk.js.map